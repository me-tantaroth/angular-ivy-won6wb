<app-admin-layout>
  <h1 class="uk-heading-divider">Afiliados</h1>
  <div class="uk-section-xsmall">
    <div *ngIf="affiliates | async; else loadingT">
      <ng-template
        let-list
        [ngTemplateOutletContext]="{ $implicit: affiliates | async }"
        [ngTemplateOutlet]="listT"
        #listT
      >
        <div *ngIf="list && list.length > 0; else notFoundT">
          <div
            class="uk-child-width-1-2@s uk-child-width-1-3@m uk-child-width-1-4@l uk-grid-small uk-grid-match"
            uk-grid
          >
            <div *ngFor="let item of list">
              <app-affiliate-view [user]="item.user"></app-affiliate-view>
            </div>
          </div>
        </div>
      </ng-template>
    </div>
  </div>
</app-admin-layout>

<ng-template #loadingT>
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</ng-template>
<ng-template #notFoundT>
  <h3 class="uk-text-muted">
    No tienes afiliados, agregalos copiando y compartiendo la URL que esta en tu
    <a routerLink="/auth/profile">perfil</a>.
  </h3>
</ng-template>
